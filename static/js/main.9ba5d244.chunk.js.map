{"version":3,"sources":["components/TopFiveIceCreamShops.js","index.js"],"names":["TopFiveIceCreamShops","useState","fetching","setFetching","businessData","setbusinessData","useEffect","getBusinesses","a","AUTH","process","axios","get","headers","Authorization","businesses","Promise","all","data","map","id","name","image_url","location","address1","city","REVIEW_URL","reviews","review","text","reviewer","user","result","className","style","textAlign","key","src","alt","maxHeight","maxWidth","ReactDOM","render","document","getElementById"],"mappings":"iPAuFeA,EApFc,WAAO,IAAD,EACDC,oBAAS,GADR,mBAC1BC,EAD0B,KAChBC,EADgB,OAEOF,mBAAS,IAFhB,mBAE1BG,EAF0B,KAEZC,EAFY,KAIjCC,qBAAU,WACRC,MACC,IAEH,IAAMA,EAAa,uCAAG,gCAAAC,EAAA,6DACpBL,GAAY,GACNM,EAFc,iBAEGC,oIAFH,iHAMKC,IAAMC,IANX,wGAM6B,CAC/CC,QAAS,CACPC,cAAeL,KARC,YAMdM,EANc,yCAaGC,QAAQC,IAC3BF,EAAWG,KAAKH,WAAWI,IAA3B,uCACE,2CAAAX,EAAA,6DAASY,EAAT,EAASA,GAAIC,EAAb,EAAaA,KAAMC,EAAnB,EAAmBA,UAAWC,EAA9B,EAA8BA,SACpBC,EAAmBD,EAAnBC,SAAUC,EAASF,EAATE,KAEZC,EAHR,6CAG2DN,EAH3D,qBAIwBT,IAAMC,IAAIc,EAAY,CAC1Cb,QAAS,CACPC,cAAeL,KANrB,cAIQkB,EAJR,yBAUS,CACLN,OACAC,YACAE,WACAC,OACAG,OAAQD,EAAQT,KAAKS,QAAQ,GAAGE,KAChCC,SAAUH,EAAQT,KAAKS,QAAQ,GAAGI,KAAKV,OAhB3C,2CADF,wDAdgB,OAaZW,EAbY,OAqClB3B,EAAgB2B,GAChB7B,GAAY,GAtCM,4CAAH,qDAyCnB,OAAID,EAEA,yBAAK+B,UAAU,aACb,uBAAGC,MAAO,CAAEC,UAAW,WAAvB,qBAIC/B,EAAae,KAAI,YAA4D,IAAzDE,EAAwD,EAAxDA,KAAMC,EAAkD,EAAlDA,UAAWE,EAAuC,EAAvCA,SAAUC,EAA6B,EAA7BA,KAAMG,EAAuB,EAAvBA,OAAQE,EAAe,EAAfA,SAClE,OACE,yBAAKM,IAAKf,EAAMY,UAAU,aACxB,yBAAKA,UAAU,aACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,YACb,yBACEI,IAAKf,EACLW,UAAU,WACVK,IAAI,GACJJ,MAAO,CAAEK,UAAW,IAAKC,SAAU,QAGvC,yBAAKP,UAAU,YACb,yBAAKA,UAAU,aACb,wBAAIA,UAAU,cAAcZ,GAC5B,wBAAIY,UAAU,cAAd,UAA+BT,EAA/B,aAA4CC,GAA5C,KACA,2BAAIG,GACJ,8BAAOE,YCzEvBW,IAASC,OAAO,kBAAC,EAAD,MAA0BC,SAASC,eAAe,W","file":"static/js/main.9ba5d244.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst TopFiveIceCreamShops = () => {\r\n  const [fetching, setFetching] = useState(false);\r\n  const [businessData, setbusinessData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getBusinesses();\r\n  }, []);\r\n\r\n  const getBusinesses = async () => {\r\n    setFetching(true);\r\n    const AUTH = `Bearer ${process.env.REACT_APP_FUSION_API_KEY}`;\r\n    const BUSINESS_URL = `https://api.yelp.com/v3/businesses/search?term=Ice%20Cream%20Shop&location=Alpharetta%2C%20GA&limit=5`;\r\n\r\n    // Await Data\r\n    const businesses = await axios.get(BUSINESS_URL, {\r\n      headers: {\r\n        Authorization: AUTH,\r\n      },\r\n    });\r\n\r\n    if (businesses) {\r\n      const result = await Promise.all(\r\n        businesses.data.businesses.map(\r\n          async ({ id, name, image_url, location }) => {\r\n            const { address1, city } = location;\r\n\r\n            const REVIEW_URL = `https://api.yelp.com/v3/businesses/${id}/reviews`;\r\n            const reviews = await axios.get(REVIEW_URL, {\r\n              headers: {\r\n                Authorization: AUTH,\r\n              },\r\n            });\r\n\r\n            return {\r\n              name,\r\n              image_url,\r\n              address1,\r\n              city,\r\n              review: reviews.data.reviews[0].text,\r\n              reviewer: reviews.data.reviews[0].user.name,\r\n            };\r\n          }\r\n        )\r\n      );\r\n\r\n      setbusinessData(result);\r\n      setFetching(false);\r\n    }\r\n  };\r\n  if (fetching) {\r\n    return (\r\n      <div className=\"container\">\r\n        <p style={{ textAlign: \"center\" }}>Fetching Data...</p>\r\n      </div>\r\n    );\r\n  }\r\n  return businessData.map(({ name, image_url, address1, city, review, reviewer }) => {\r\n    return (\r\n      <div key={name} className=\"container\">\r\n        <div className=\"card mb-2\">\r\n          <div className=\"row no-gutters\">\r\n            <div className=\"col-md-4\">\r\n              <img\r\n                src={image_url}\r\n                className=\"card-img\"\r\n                alt=\"\"\r\n                style={{ maxHeight: 250, maxWidth: 250 }}\r\n              />\r\n            </div>\r\n            <div className=\"col-md-4\">\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title\">{name}</h5>\r\n                <h5 className=\"card-title\">{`${address1}, ${city}`} </h5>\r\n                <p>{review}</p>\r\n                <span>{reviewer}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n};\r\n\r\nexport default TopFiveIceCreamShops;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport TopFiveIceCreamShops from './components/TopFiveIceCreamShops';\r\n\r\nReactDOM.render(<TopFiveIceCreamShops />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}